---
# daemon-var = spei_bacula___director_config
# 'single' when not defined defaults to 'no'
# 'mandatory' when not defined defaults to 'yes'
#
# - !!! Schedule and FileSet resource need a custom template. !!! That is
#     generated by the program.
# - JobDefs is the same as Job apart from the job_def entry itself.
# - I think at least a pool or storage must be defined for config to work.
# - Not sure if Console resource is mandatory or not.
# - I guess Client is mandatory like FileSet and Schedule. These two would be
#     updated in the script (remove if conditional block)

director:
  single: yes
  required:
    - name
    - password
    - messages
    - working_directory
    - pid_directory
    - query_file
  optional:
    - description
    - scripts_directory
    - heartbeat_interval
    - maximum_concurrent_jobs
    - fd_connect_timeout
    - sd_connect_timeout
    - dir_addresses
    - dir_port
    - dir_address
    - dir_source_address
    - statistics_retention
    - ver_id
    - maximum_console_connections
    - maximum_reload_requests
catalog:
  single: yes
  required:
    - name
    - db_name
    - db_user
    - db_password
  optional:
    - db_socket
    - db_address
    - db_port
client:
  required:
    - name
    - address
    - catalog
    - password
  optional:
    - fd_port
    - file_retention
    - job_retention
    - auto_prune
    - maximum_concurrent_jobs
    - priority
storage:
  mandatory: no
  required:
    - name
    - address
    - password
    - device
    - media_type
  optional:
    - enabled
    - fd_storage
    - sd_port
    - autochanger
    - maximum_concurrent_jobs
    - maximum_concurrent_read_jobs
    - allow_compression
    - heartbeat_interval
pool:
  mandatory: no
  required:
    - name
    - pool_type
  optional:
    - recycle
    - auto_prune
    - volume_retention
    - maximum_volumes
    - maximum_volume_bytes
    - use_volume_once
    - label_format
    - heartbeat_interval
console:
  mandatory: no
  required:
    - name
    - password
  optional:
    - job_acl
    - client_acl
    - storage_acl
    - schedule_acl
    - pool_acl
    - file_set_acl
    - catalog_acl
    - command_acl
    - where_acl
job:
  required:
    - name
  optional:
    # Client, file_set, messages, pool and type are required if no job_defs.
    # RunScripts are treated in the python script itself.
    - client
    - file_set
    - messages
    - pool
    - type
    - accurate
    - verify_job
    - job_defs
    - bootstrap
    - write_bootstrap
    - base
    - snapshot_retention
    - full_backup_pool
    - differential_backup_pool
    - incremental_backup_pool
    - backups_to_keep
    - delete_consolidated_jobs
    - schedule
    - storage
    - max_start_delay
    - max_run_time
    - incremental_max_run_time
    - differential_max_wait_time
    - max_run_sched_time
    - max_wait_time
    - max_spawned_jobs
    - maximum_bandwidth
    - max_full_interval
    - prefer_mounted_volumes
    - prune_jobs
    - prune_files
    - prune_volumes
    - run_before_job
    - run_after_job
    - run_after_failed_job
    - client_run_before_job
    - clien_run_after_job
    - rerun_failed_levels
    - spool_data
    - spool_attributes
    - spool_size
    - where
    - add_prefix
    - add_suffix
    - strip_prefix
    - regex_where
    - replace
    - prefix_links
    - maximum_concurrent_jobs
    - reschedule_on_error
    - reschedule_incomplete_jobs
    - reschedule_interval
    - allow_duplicate_jobs
    - allow_higher_duplicates
    - cancel_lower_level_duplicates
    - cancel_queued_duplicates
    - cancel_running_duplicates
    - run
    - priority
    - allow_mixed_priority
job_defs:
  mandatory: no
  required:
    - name
  optional:
    # RunScripts are treated in the python script itself.
    - type
    - client
    - file_set
    - messages
    - pool
    - accurate
    - verify_job
    - bootstrap
    - write_bootstrap
    - base
    - snapshot_retention
    - full_backup_pool
    - differential_backup_pool
    - incremental_backup_pool
    - backups_to_keep
    - delete_consolidated_jobs
    - schedule
    - storage
    - max_start_delay
    - max_run_time
    - incremental_max_run_time
    - differential_max_wait_time
    - max_run_sched_time
    - max_wait_time
    - max_spawned_jobs
    - maximum_bandwidth
    - max_full_interval
    - prefer_mounted_volumes
    - prune_jobs
    - prune_files
    - prune_volumes
    - run_script
    - run_before_job
    - run_after_job
    - run_after_failed_job
    - client_run_before_job
    - clien_run_after_job
    - rerun_failed_levels
    - spool_data
    - spool_attributes
    - spool_size
    - where
    - add_prefix
    - add_suffix
    - strip_prefix
    - regex_where
    - replace
    - prefix_links
    - maximum_concurrent_jobs
    - reschedule_on_error
    - reschedule_incomplete_jobs
    - reschedule_interval
    - allow_duplicate_jobs
    - allow_higher_duplicates
    - cancel_lower_level_duplicates
    - cancel_queued_duplicates
    - cancel_running_duplicates
    - run
    - priority
    - allow_mixed_priority
